# AI开发对接文档生成模板 - 标准版 v1.0
> 适用于大多数开发场景 | 基于 Claude 版本优化 | 无作者 | 2025-10-02 08:38 UTC

---

## 📋 使用说明

将此提示词在开发完成后发送给 AI，或在开发任务开始时告知 AI，让 AI 自动生成完整的对接文档。

**适用场景**：
- ✅ 正常功能开发（新增功能、模块重构）
- ✅ API 开发
- ✅ 数据库设计
- ✅ 跨团队/跨 AI 协作

**不适用场景**：
- 小型 Bug 修复 → 使用【极简版】
- 大型架构升级 → 需要更详细的文档

---

## 🎯 标准版提示词（复制使用）

```
【对接文档生成要求 - 标准版】

请在完成开发任务后，按照以下结构生成完整的对接文档：

═══════════════════════════════════════════════════════════
【核心要求】
═══════════════════════════════════════════════════════════

✅ 使用真实值，不要用占位符（如 [文件名]、TODO、待填写）
✅ 所有命令必须可以直接复制运行
✅ 代码示例必须包含真实的文件路径和行号
✅ API 示例必须包含完整的请求/响应
✅ 至少提供一个端到端的可运行示例

❌ 不要写"详见 XX"、"参考 XX"等推卸话术
❌ 不要省略关键信息用"..."代替

═══════════════════════════════════════════════════════════
【文档结构】（共 12 个章节）
═══════════════════════════════════════════════════════════

## 1. 项目概览

**项目名称/模块名称**：[具体名称]
**开发时间**：[YYYY-MM-DD HH:mm ~ YYYY-MM-DD HH:mm]
**负责 AI/开发者**：[名称]
**项目目标**：[用 1-2 句话描述核心功能，解决了什么问题]

示例：
"实现了用户认证系统，支持注册、登录、JWT令牌管理，解决了系统无法识别用户身份的问题。"

---

## 2. 技术栈信息

**编程语言及版本**：[如 Node.js 18.17.0]
**核心框架/库及版本**：
- [框架名] [版本] - [用途]
- [框架名] [版本] - [用途]

**数据库类型及版本**：[如 PostgreSQL 14.5]
**第三方依赖清单**：
```json
// package.json 或 requirements.txt
{
  "依赖名": "版本号",  // 用途说明
  ...
}
```

**开发环境要求**：
```bash
Node.js >= 18.0.0
PostgreSQL >= 14.0
[其他必需环境]
```

---

## 3. 项目结构

```
project/
├── src/
│   ├── [目录名]/              # [用途说明]
│   │   ├── [文件名.js]           # [新增/修改] [功能]
│   │   └── [文件名.js]           # [新增/修改] [功能]
│   ├── [其他目录]/
│   └── app.js                  # [修改] 应用入口
├── config/
│   └── [配置文件]                # [新增/修改] [说明]
├── tests/
├── migrations/                 # 数据库迁移文件
└── README.md
```

**关键文件说明**：
| 文件路径 | 改动类型 | 作用 |
|---------|---------|------|
| [路径] | 新增/修改/删除 | [功能说明] |

---

## 4. 核心功能模块说明

### 模块：[模块名称]
**功能描述**：[描述模块的核心功能]

**输入参数**：
| 参数名 | 类型 | 必填 | 说明 | 示例 |
|-------|------|------|------|------|
| [参数] | [类型] | ✅/❌ | [说明] | [示例值] |

**输出结果**：
```json
{
  "返回数据结构"
}
```

**调用示例**：
```javascript
// 文件位置：[路径]
const result = await moduleFunction(param1, param2);
```

**相关文件位置**：
- 实现：`[文件路径:行号]`
- 测试：`[测试文件路径]`

---

## 5. API/接口文档

### 5.1 接口清单
| 接口路径 | 方法 | 功能 | 认证 | 状态 |
|---------|------|------|------|------|
| [路径] | GET/POST | [功能] | ✅/❌ | ✅稳定/⚠️开发中 |

### 5.2 接口详情

#### [方法] [接口路径]
**功能**：[一句话说明]

**请求参数**：
| 参数名 | 类型 | 必填 | 说明 | 示例 | 验证规则 |
|-------|------|------|------|------|---------|
| [参数] | string | ✅ | [说明] | "example" | [规则] |

**请求示例**：
```bash
curl -X POST http://localhost:3000/api/example \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer [token]" \
  -d '{
    "key": "value"
  }'
```

**成功响应（200）**：
```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "真实的响应数据"
  }
}
```

**错误响应**：
| 状态码 | 错误码 | 说明 | 响应示例 |
|-------|-------|------|---------|
| 400 | INVALID_INPUT | [说明] | `{"code": 400, "message": "..."}` |
| 401 | UNAUTHORIZED | [说明] | `{"code": 401, "message": "..."}` |

**JavaScript 调用示例**：
```javascript
async function callAPI() {
  const response = await fetch('http://localhost:3000/api/example', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ key: 'value' })
  });
  const data = await response.json();
  return data;
}
```

---

## 6. 数据库设计

**数据库名称**：[数据库名]
**数据库类型**：[PostgreSQL/MySQL/MongoDB]

### 表：[表名]
**用途**：[一句话说明表的用途]

**表结构**：
| 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 索引 | 说明 |
|-------|------|------|---------|--------|------|------|------|
| id | [类型] | - | ❌ | AUTO | ✅ | PRIMARY | [说明] |
| [字段] | [类型] | [长度] | ✅/❌ | [默认值] | ❌ | [索引类型] | [说明] |

**索引设计**：
```sql
CREATE INDEX idx_name ON table_name(column_name);
```

**建表 SQL**：
```sql
CREATE TABLE table_name (
  -- 完整的建表语句
  id BIGSERIAL PRIMARY KEY,
  ...
);
```

**表关系图**（如有多表）：
```
[表A] ---< [表B]
  |
  +---< [表C]
```

**初始化 SQL 脚本位置**：
```bash
# 迁移文件位置
migrations/YYYYMMDDHHMMSS_description.sql

# 执行迁移命令
npm run migrate
```

---

## 7. 配置说明

### 环境变量清单
```env
# 必需配置
DATABASE_URL=postgresql://user:pass@localhost:5432/dbname  # 数据库连接
JWT_SECRET=your-secret-key-here                              # JWT密钥
PORT=3000                                                    # 服务端口

# 可选配置
REDIS_URL=redis://localhost:6379                            # Redis缓存
LOG_LEVEL=info                                              # 日志级别
```

### 配置文件说明
**位置**：`config/database.js`
**关键配置项**：
```javascript
module.exports = {
  database: {
    host: process.env.DB_HOST || 'localhost',
    port: process.env.DB_PORT || 5432,
    // ... 其他配置
  }
};
```

### 敏感信息处理方式
- ✅ 使用 `.env` 文件（已加入 .gitignore）
- ✅ 生产环境使用环境变量或密钥管理服务
- ❌ 绝不在代码中硬编码密钥

---

## 8. 部署指南

### 8.1 环境准备
```bash
# 检查环境
node --version  # 需要 >= 18.0.0
npm --version

# 如果需要数据库
psql --version  # PostgreSQL 14+
```

### 8.2 本地开发部署
```bash
# 1. 克隆代码（或拉取最新）
git clone [仓库URL]
cd [项目目录]

# 2. 安装依赖
npm install

# 3. 配置环境变量
cp .env.example .env
# 编辑 .env 文件，填入真实值

# 4. 初始化数据库（如需要）
npm run db:setup
npm run migrate

# 5. 启动开发服务器
npm run dev

# 6. 验证运行状态
curl http://localhost:3000/health
# 预期返回：{"status":"ok"}
```

### 8.3 生产环境部署
```bash
# 1. 构建
npm run build

# 2. 运行迁移
npm run migrate:prod

# 3. 启动服务
npm start
# 或使用 PM2
pm2 start ecosystem.config.js --env production

# 4. 验证部署
curl https://api.example.com/health
```

### 8.4 常见问题
| 问题 | 解决方案 |
|-----|---------|
| 端口被占用 | 修改 .env 中的 PORT |
| 数据库连接失败 | 检查 DATABASE_URL 配置 |
| 依赖安装失败 | 清除缓存：`npm cache clean --force` |

---

## 9. 测试说明

**测试文件位置**：`tests/`
```
tests/
├── unit/           # 单元测试
├── integration/    # 集成测试
└── e2e/            # 端到端测试
```

**运行测试命令**：
```bash
# 运行所有测试
npm test

# 运行特定测试
npm test -- tests/auth.test.js

# 生成覆盖率报告
npm run test:coverage
```

**测试覆盖范围**：
- 总体覆盖率：[X%]
- 语句覆盖率：[X%]
- 分支覆盖率：[X%]
- 函数覆盖率：[X%]

**关键测试用例说明**：
| 测试文件 | 测试内容 | 覆盖场景 |
|---------|---------|---------|
| [文件名] | [测试内容] | [正常/异常/边界] |

---

## 10. 已知问题与注意事项

### ⚠️ 必看坑点
1. **[坑点描述]**
   - 现象：[什么情况下会出现]
   - 避免方法：[如何避免]
   - 参考：[文件位置或行号]

2. **[坑点描述]**
   - 现象：[什么情况下会出现]
   - 避免方法：[如何避免]

### 已知 Bug 清单
| Bug 描述 | 影响程度 | 临时方案 | 计划修复时间 |
|---------|---------|---------|-------------|
| [描述] | 🔴高/🟡中/🟢低 | [方案] | [时间] |

### 性能瓶颈说明
- **瓶颈位置**：[具体位置]
- **表现**：[描述性能问题]
- **优化建议**：[建议方案]

### 安全相关注意事项
- ✅ [已实现的安全措施]
- ⚠️ [需要注意的安全点]
- ❌ [未实现但需要的安全措施]

---

## 11. 后续开发建议

### 待优化项
- [ ] [优化项 1] - 优先级：P0/P1/P2
- [ ] [优化项 2] - 优先级：P0/P1/P2

### 可扩展的功能点
- [ ] [功能 1] - [价值说明]
- [ ] [功能 2] - [价值说明]

### 代码重构建议
- [重构建议 1]：[原因和收益]
- [重构建议 2]：[原因和收益]

### 技术债务
| 债务描述 | 产生原因 | 影响 | 建议处理方式 |
|---------|---------|------|-------------|
| [描述] | [原因] | [影响] | [建议] |

---

## 12. 联调对接清单

**接手人员请逐项确认**：
- [ ] 环境变量配置完成
- [ ] 依赖安装成功（`npm install` 无错误）
- [ ] 数据库连接正常（能执行迁移）
- [ ] 本地启动成功（能访问服务）
- [ ] API 接口可访问（至少测试一个接口）
- [ ] 测试用例通过（`npm test` 通过）
- [ ] 文档已阅读理解（理解核心逻辑）
- [ ] 已知问题已知晓（避免踩坑）

**负责人联系方式**：
- 负责人：[姓名/AI 名称]
- 联系方式：[邮箱/通讯方式]
- 代码仓库：[GitHub URL]
- 关键 Commit：`[commit hash]` - [提交信息]
- 相关文档：[其他文档链接]

═══════════════════════════════════════════════════════════
【文档质量检查清单】
═══════════════════════════════════════════════════════════

生成文档后，请自检以下项目：
- [ ] 所有代码示例可以直接运行（没有占位符）
- [ ] 没有"待填写"、"TODO"、"参考XX"等推卸话术
- [ ] 版本号和依赖版本都是明确的
- [ ] 路径和文件名是真实存在的
- [ ] API 请求响应示例完整（不是伪代码）
- [ ] 配置示例包含实际值（脱敏后的真实值）
- [ ] 部署步骤已验证可执行
- [ ] 包含至少一个端到端可运行示例
- [ ] 总字数控制在 2500-4000 字之间

═══════════════════════════════════════════════════════════
【特殊场景补充】
═══════════════════════════════════════════════════════════

如果是前端项目，额外补充：
- 组件树结构
- 状态管理方案（Redux/Vuex/Pinia 等）
- 路由配置说明
- UI 组件库使用
- 浏览器兼容性要求

如果是后端项目，额外补充：
- 中间件列表及作用
- 认证授权机制
- 日志系统说明
- 缓存策略
- 限流熔断机制

如果是微服务，额外补充：
- 服务注册发现机制
- 服务间通信协议
- 链路追踪配置
- 服务依赖关系图

如果是数据/算法项目，额外补充：
- 数据流向图
- 算法原理简述
- 模型参数说明
- 性能指标定义
```

---

## 🔧 使用技巧

### 1. 任务开始时使用（推荐）
```
我需要开发一个用户认证功能，要求如下：
[你的具体需求]

【重要】完成开发后，请按照【标准版对接文档模板】生成完整对接文档。
```

### 2. 任务完成后补充使用
```
你刚才完成的代码开发很好，现在请使用【标准版对接文档模板】
为这段代码生成完整的对接文档。
```

### 3. 持续迭代时使用
```
基于现有的对接文档 [文档链接或内容]，
我刚刚让你修改了 XXX 功能，请更新对接文档的相关部分，
确保文档与代码保持一致。
```

### 4. 多 AI 协作场景
```
【AI 协作交接提示词】

我之前使用 [AI 名称] 完成了部分开发，现有对接文档如下：
[粘贴之前的对接文档]

现在我需要你：
1. 仔细阅读上述对接文档
2. 确认你理解了现有的架构和实现
3. 指出文档中任何不清晰或缺失的信息
4. 然后继续完成以下新需求：[你的新需求]
5. 完成后更新对接文档，标注你新增/修改的部分

请先回复你对现有代码的理解，再开始新开发。
```

---

## 📊 与其他版本对比

| 特性 | 极简版 | 标准版（本版本） | 测试版 |
|-----|-------|---------------|-------|
| **章节数** | 8 | 12 | 17 |
| **总字数** | 800-1200 | 2500-4000 | 3000-5000 |
| **填写时间** | 5-10分钟 | 15-25分钟 | 20-30分钟 |
| **阅读时间** | 5分钟 | 10-15分钟 | 15-20分钟 |
| **适用场景** | 小型项目/Bug修复 | 大多数开发场景 | 复杂项目/需详细记录 |
| **详细程度** | ⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **代码示例** | 最少 | 适中 | 较多 |
| **API文档** | 简略 | 完整 | 非常详细 |

---

## 💡 最佳实践建议

1. **版本控制**：将对接文档与代码放在同一仓库，保持同步更新
   ```
   docs/
   ├── handoff/
   │   ├── HANDOFF_auth_20251002.md
   │   ├── HANDOFF_payment_20251001.md
   │   └── template.md
   ```

2. **命名规范**：使用统一的文档命名格式
   ```
   HANDOFF_[模块名]_[日期YYYYMMDD].md
   ```

3. **模板定制**：根据团队习惯调整模板字段
   - 删除不常用的章节
   - 添加团队特定的检查项
   - 调整字段顺序

4. **自动化集成**：可以将提示词集成到 CI/CD 流程中
   ```bash
   # git commit hook
   #!/bin/bash
   echo "请记得更新对接文档！"
   ```

5. **定期 review**：每次大版本更新后检查文档准确性

---

## 📌 快速参考卡片

**最小必需信息（用于快速对接）**：
1. 如何启动项目（一条命令）
2. 核心 API 列表（路径+方法）
3. 环境变量清单
4. 数据库连接信息
5. 关键依赖版本
6. 第一个调用示例

将这些信息放在文档最前面，方便快速查阅。

---

## 📝 版本信息

- **版本**：标准版 v1.0
- **基于**：Claude 0.2 版本优化
- **创建时间**：2025-10-02 08:38 UTC
- **作者**：@oloiverrrr
- **适用 AI**：Claude、ChatGPT、Gemini、GitHub Copilot 等主流 AI
- **状态**：✅ 推荐使用

---

## 🎯 何时使用此版本？

✅ **推荐使用**：
- 正常功能开发
- API 开发
- 数据库设计
- 模块重构
- 跨团队协作
- 需要详细但不冗余的文档

❌ **不推荐使用**：
- 简单 Bug 修复 → 用极简版
- 配置修改 → 用极简版
- 大型架构升级 → 需要更详细文档
- 新系统从零开发 → 需要更详细文档

---

**下一步**：选择合适的版本开始使用！

- 小项目？→ [极简版](AI-Handoff-Template-Minimal-v1.0.md)
- 正常项目？→ **本版本（标准版）** ✅
- 复杂项目？→ [测试版](AI-Handoff-Template-Test-v1.0.md)
