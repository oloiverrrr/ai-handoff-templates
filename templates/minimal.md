# AI开发对接文档生成模板 - 极简版 v1.0
> 小型项目专用 | 5-10分钟快速交接 | 无作者 | 2025-10-02 08:37 UTC

---

## 📋 使用说明

### 何时使用极简版？
- ✅ 小型功能开发（<500行代码）
- ✅ Bug修复
- ✅ 简单配置修改
- ✅ 紧急热修复
- ✅ 工具脚本开发

### ❌ 不适用场景
- ❌ 大型重构
- ❌ 新系统开发
- ❌ 复杂架构变更
- ❌ 需要详细文档归档

**如果是复杂项目，请使用【测试版】模板！**

---

## 🎯 极简版提示词（复制给AI使用）

```
【AI开发对接文档 - 极简版】

这是一个小型改动，请生成精简对接文档。

═══════════════════════════════════════════════════════════
【核心要求】
═══════════════════════════════════════════════════════════

1. ✅ 只写关键信息，每个章节控制在50-100字
2. ✅ 命令必须可直接运行（真实值，不用占位符）
3. ✅ 总字数控制在800-1200字
4. ❌ 不要写"详见XX"、"参考XX"等推卸话术

═══════════════════════════════════════════════════════════
【文档内容】（共8个部分）
═══════════════════════════════════════════════════════════

## 1. 一句话说明（30字）

[用一句话说：改了什么，解决什么问题]

---

## 2. 快速启动（100字）

```bash
# 启动命令
[一行命令启动]

# 验证运行
[一行命令验证]
# ✅ 预期输出：[真实输出]
```

---

## 3. 改了什么（150字）

**文件变更**：
- ✅ 新增：`[文件路径]` - [功能]
- ✏️ 修改：`[文件路径]` - [改动]
- ❌ 删除：`[文件路径]` - [原因]

**核心代码位置**：
- `[文件路径:行号]` - [功能说明]

---

## 4. 如何使用（200字）

**如果是API**：
```bash
# 调用示例
curl -X [方法] http://localhost:[端口]/[路径] \
  -d '[参数]'

# 预期响应
[响应内容]
```

**如果是功能/工具**：
```bash
# 使用方法
[命令或调用方式]

# 示例
[具体示例]
```

**如果是Bug修复**：
- 问题：[问题描述]
- 修复：[修复方法]
- 验证：[如何确认修复成功]

---

## 5. 配置说明（100字）

**环境变量**（如需要）：
```env
[变量名]=[值]    # [说明]
```

**配置文件**（如需要）：
- 位置：`[路径]`
- 修改：`[配置项] = [值]`

**如果不需要配置，写"无需额外配置"**

---

## 6. 本地测试（100字）

```bash
# 1. 拉取代码
git pull origin [分支名]

# 2. 安装依赖（如有新增）
[命令，如果没有新依赖就写"无需重新安装"]

# 3. 运行测试
[测试命令]

# 4. 验证功能
[验证步骤]
```

---

## 7. 注意事项（100字）

⚠️ **必看**：
- [注意点1]
- [注意点2]

**已知问题**（如有）：
- [问题] - 临时方案：[方案]

**如果一切正常，写"无特殊注意事项"**

---

## 8. 联系信息（50字）

**负责人**：[姓名/AI]
**代码仓库**：[URL]
**Commit**：`[hash]` - [提交信息]

遇到问题联系：[联系方式]

═══════════════════════════════════════════════════════════
【质量检查】
═══════════════════════════════════════════════════════════

- [ ] 总字数在800-1200字之间
- [ ] 所有命令可以直接运行
- [ ] 至少有一个可运行示例
- [ ] 没有"待补充"等占位符
- [ ] 5分钟内能读完

═══════════════════════════════════════════════════════════
【字数分配】
═══════════════════════════════════════════════════════════

1. 一句话说明：30字
2. 快速启动：100字
3. 改了什么：150字
4. 如何使用：200字
5. 配置说明：100字
6. 本地测试：100字
7. 注意事项：100字
8. 联系信息：50字

总计：约830字（允许±20%浮动）
```

---

## 📊 三个版本对比

| 特性 | 极简版 | 测试版 | 完整版（之前的） |
|-----|-------|-------|--------------|
| **适用场景** | 小型项目/Bug修复 | 正常功能开发 | 大型重构/归档 |
| **章节数** | 8个 | 17个 | 24个 |
| **总字数** | 800-1200 | 3000-5000 | 8000+ |
| **填写时间** | 5-10分钟 | 15-30分钟 | 30-60分钟 |
| **阅读时间** | 5分钟 | 15分钟 | 30分钟+ |
| **详细程度** | ⭐ 简要 | ⭐⭐⭐ 详细 | ⭐⭐⭐⭐⭐ 非常详细 |
| **代码示例** | 最少 | 适中 | 很多 |
| **架构图** | ❌ 无 | ✅ 可选 | ✅ 必需 |

---

## 🎯 使用场景示例

### 场景1：修复登录Bug
```
我修复了一个登录失败的Bug，请用【极简版模板】生成文档。

具体改动：
- 修改了 src/auth.js 的密码验证逻辑
- 问题是 bcrypt 比对超时
- 解决方案是增加超时时间到5秒
```

### 场景2：添加工具脚本
```
我写了一个数据导出脚本，请用【极简版模板】生成文档。

脚本功能：
- 从数据库导出用户数据到CSV
- 支持按日期范围筛选
- 自动压缩并上传到OSS
```

### 场景3：简单配置修改
```
我修改了数据库连接池配置，请用【极简版模板】生成文档。

改动：
- 修改 config/database.js
- 连接池从10改到20
- 原因是并发增加导致连接不够用
```

### 场景4：小功能开发
```
我添加了一个获取用户统计的API，请用【极简版模板】生成文档。

功能：
- GET /api/stats/users
- 返回总用户数、今日新增、活跃用户数
- 不需要认证
```

---

## 📝 极简版示例（填好的样子）

````markdown
# 修复用户登录超时问题 - 对接文档

## 1. 一句话说明

修复了登录时 bcrypt 密码验证超时导致的失败问题，将超时从默认2秒增加到5秒。

---

## 2. 快速启动

```bash
# 启动命令
npm run dev

# 验证运行
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"test123"}'
# ✅ 预期输出：{"code":200,"message":"Login successful","data":{"token":"eyJ..."}}
```

---

## 3. 改了什么

**文件变更**：
- ✏️ 修改：`src/services/authService.js:45-50` - 增加 bcrypt 超时配置

**核心代码位置**：
- `src/services/authService.js:48` - 添加了 `timeout: 5000` 参数

```javascript
// 修改前
const isValid = await bcrypt.compare(password, user.password_hash);

// 修改后
const isValid = await bcrypt.compare(password, user.password_hash, { timeout: 5000 });
```

---

## 4. 如何使用

**API调用**：
```bash
# 登录接口
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"john_doe","password":"SecurePass123"}'

# 预期响应
{
  "code": 200,
  "message": "Login successful",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {"id": "123", "username": "john_doe"}
  }
}
```

**验证修复**：
1. 使用高负载账户（密码复杂度高）登录
2. 响应时间应在 1-2 秒内
3. 不再出现超时错误

---

## 5. 配置说明

无需额外配置

---

## 6. 本地测试

```bash
# 1. 拉取代码
git pull origin bugfix/login-timeout

# 2. 安装依赖
无需重新安装

# 3. 运行测试
npm test -- tests/auth.test.js

# 4. 验证功能
npm run dev
# 然后使用上面的curl命令测试登录
```

---

## 7. 注意事项

⚠️ **必看**：
- 此修复只影响登录接口，不影响其他功能
- 如果仍然超时，检查数据库连接是否正常

**已知问题**：无

---

## 8. 联系信息


**代码仓库**：https://github.com/oloiverrrr/ai-handoff-templates 
**Commit**：`a1b2c3d` - fix: increase bcrypt timeout to 5s


